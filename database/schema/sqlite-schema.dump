CREATE TABLE IF NOT EXISTS "migrations" ("id" integer not null primary key autoincrement, "migration" varchar not null, "batch" integer not null);
CREATE TABLE IF NOT EXISTS "host" ("id" integer not null primary key autoincrement, "server" varchar not null, "domain" varchar not null, "certificate_enabled" tinyint(1) not null, "certificate_status" varchar, "certificate_expires_at" datetime, "certificate_checked_at" datetime, "domain_enabled" tinyint(1) not null, "domain_status" varchar, "domain_expires_at" date, "domain_checked_at" datetime, "ping_enabled" tinyint(1) not null, "ping_status" varchar, "ping_checked_at" datetime, "url_enabled" tinyint(1) not null, "url_status" varchar, "url_checked_at" datetime, "enabled" tinyint(1) not null, "created_at" datetime not null default CURRENT_TIMESTAMP, "updated_at" datetime not null default CURRENT_TIMESTAMP, "deleted_at" datetime, "user_id" integer not null);
CREATE UNIQUE INDEX "host_server_unique" on "host" ("server");
CREATE TABLE IF NOT EXISTS "host_check" ("id" integer not null primary key autoincrement, "server" varchar not null, "domain" varchar not null, "certificate_enabled" tinyint(1), "certificate_status" varchar, "certificate_expires_at" datetime, "certificate_checked_at" datetime, "domain_enabled" tinyint(1), "domain_status" varchar, "domain_expires_at" date, "domain_checked_at" datetime, "ping_enabled" tinyint(1), "ping_status" varchar, "ping_checked_at" datetime, "url_enabled" tinyint(1), "url_status" varchar, "url_checked_at" datetime, "created_at" datetime not null default CURRENT_TIMESTAMP, "host_id" integer not null);
CREATE TABLE IF NOT EXISTS "host_url" ("id" integer not null primary key autoincrement, "url" varchar not null, "time" float, "status" integer, "checked_at" datetime, "enabled" tinyint(1) not null, "created_at" datetime not null default CURRENT_TIMESTAMP, "updated_at" datetime not null default CURRENT_TIMESTAMP, "deleted_at" datetime, "host_id" integer not null, "user_id" integer not null);
CREATE TABLE IF NOT EXISTS "host_url_check" ("id" integer not null primary key autoincrement, "url" varchar not null, "time" float, "status" integer, "checked_at" datetime, "created_at" datetime not null default CURRENT_TIMESTAMP, "host_id" integer not null, "host_check_id" integer, "host_url_id" integer not null);
CREATE TABLE IF NOT EXISTS "ip_lock" ("id" integer not null primary key autoincrement, "ip" varchar not null default '', "end_at" datetime, "created_at" datetime not null default CURRENT_TIMESTAMP, "updated_at" datetime not null default CURRENT_TIMESTAMP, "deleted_at" datetime);
CREATE TABLE IF NOT EXISTS "queue_fail" ("id" integer not null primary key autoincrement, "connection" text not null, "queue" text not null, "payload" text not null, "exception" text not null, "failed_at" datetime default CURRENT_TIMESTAMP not null, "created_at" datetime not null default CURRENT_TIMESTAMP, "updated_at" datetime not null default CURRENT_TIMESTAMP, "deleted_at" datetime);
CREATE TABLE IF NOT EXISTS "user" ("id" integer not null primary key autoincrement, "name" varchar not null default '', "email" varchar not null, "password" varchar, "remember_token" varchar, "activated_at" datetime, "enabled" tinyint(1) not null default '0', "created_at" datetime not null default CURRENT_TIMESTAMP, "updated_at" datetime not null default CURRENT_TIMESTAMP, "deleted_at" datetime);
CREATE UNIQUE INDEX "user_email_unique" on "user" ("email");
CREATE TABLE IF NOT EXISTS "user_session" ("id" integer not null primary key autoincrement, "auth" varchar not null, "ip" varchar not null, "success" tinyint(1) not null default '0', "created_at" datetime not null default CURRENT_TIMESTAMP, "updated_at" datetime not null default CURRENT_TIMESTAMP, "deleted_at" datetime, "user_id" integer);
CREATE INDEX "user_session_auth_index" on "user_session" ("auth");
CREATE INDEX "user_session_ip_index" on "user_session" ("ip");
CREATE UNIQUE INDEX "host_url_url_host_id_unique" on "host_url" ("url", "host_id");
INSERT INTO migrations VALUES(1,'2021_01_14_000000_base',1);
